- name: test index
  tags:
  - test
  uri: url="http://{{ ip.stdout }}/"

- name: test public api without data
  tags:
  - test
  uri: 
     url: "http://{{ ip.stdout }}{{ item }}"
  with_items: "{{ simple_urls }}"

- name: test read api without data
  uri: 
    url: http://{{ ip.stdout }}{{ item }}
    user: demo
    password: demo
  with_items: "{{ read_urls }}"
  tags:
  - test
- name: Add some switches
  tags:
  - test
  uri: 
    url: http://{{ ip.stdout }}/api/write/switch-add
    method: "POST"
    force_basic_auth: true
    body_format: json
    user: demo
    password: demo
    body: '[{"mgmt_v4_addr":"127.0.0.1","sysname":""},{"distro":"core","mgmt_v4_addr":"127.0.0.2","sysname":"distro0"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.3","sysname":"row1-1"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.4","sysname":"row1-2"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.5","sysname":"row3-1"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.6","sysname":"row3-2"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.7","sysname":"row5-1"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.8","sysname":"row5-2"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.9","sysname":"row7-1"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.10","sysname":"row7-2"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.11","sysname":"row9-1"},{"distro":"distro0","mgmt_v4_addr":"127.0.0.12","sysname":"row9-2"},{"distro":"core","mgmt_v4_addr":"127.0.0.13","sysname":"distro1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.14","sysname":"row11-1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.15","sysname":"row11-2"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.16","sysname":"row13-1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.17","sysname":"row13-2"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.18","sysname":"row15-1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.19","sysname":"row15-2"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.20","sysname":"row17-1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.21","sysname":"row17-2"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.22","sysname":"row19-1"},{"distro":"distro1","mgmt_v4_addr":"127.0.0.23","sysname":"row19-2"},{"distro":"core","mgmt_v4_addr":"127.0.0.24","sysname":"distro2"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.25","sysname":"row21-1"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.26","sysname":"row21-2"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.27","sysname":"row23-1"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.28","sysname":"row23-2"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.29","sysname":"row25-1"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.30","sysname":"row25-2"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.31","sysname":"row27-1"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.32","sysname":"row27-2"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.33","sysname":"row29-1"},{"distro":"distro2","mgmt_v4_addr":"127.0.0.34","sysname":"row29-2"},{"distro":"core","mgmt_v4_addr":"127.0.0.35","sysname":"distro3"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.36","sysname":"row31-1"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.37","sysname":"row31-2"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.38","sysname":"row33-1"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.39","sysname":"row33-2"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.40","sysname":"row35-1"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.41","sysname":"row35-2"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.42","sysname":"row37-1"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.43","sysname":"row37-2"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.44","sysname":"row39-1"},{"distro":"distro3","mgmt_v4_addr":"127.0.0.45","sysname":"row39-2"},{"distro":"core","mgmt_v4_addr":"127.0.0.46","sysname":"noc"}]'

 
