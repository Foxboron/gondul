<VirtualHost *:80>
        ServerAdmin lol@example.com
        ServerName nms.example.com
        ServerAlias nms.example.com

        DocumentRoot /opt/tgnms/web
	ScriptAlias /api/write/ /opt/tgnms/web/api/write/
	ScriptAlias /api/read/ /opt/tgnms/web/api/read/
	ScriptAlias /api/public/ /opt/tgnms/web/api/public/
	<Directory "/opt/tgnms/web/api/write/">
		AllowOverride None
		Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
		<RequireAny>
			AuthUserFile /opt/tgnms/etc/htpasswd-write
	                AuthName "Demo/test of tgnms write"
        	        AuthType Basic
			Require valid-user
		</RequireAny>
	</Directory>
	<Directory "/opt/tgnms/web/api/read/">
		AllowOverride None
		Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
		<RequireAny>
			AuthUserFile /opt/tgnms/etc/htpasswd-read
	                AuthName "Demo/test of tgnms read"
        	        AuthType Basic
			Require valid-user
		</RequireAny>
	</Directory>
	<Directory "/opt/tgnms/web/api/public/">
		AllowOverride None
		Options +ExecCGI -MultiViews +Indexes +SymLinksIfOwnerMatch
		Require all granted
	</Directory>
        <Directory "/opt/tgnms/web">
                AllowOverride None
                Options Indexes FollowSymLinks MultiViews
                AddDefaultCharset UTF-8
		Require all granted
        </Directory>

        ErrorLog /var/log/apache2/error-nms.example.com.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog /var/log/apache2/access-nms.example.com.log combined
        ServerSignature On

</VirtualHost>
